
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Scrypted API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;javascript&quot;,&quot;typescript&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="javascript">javascript</a>
              <a href="#" data-language-name="typescript">typescript</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#getting-started" class="toc-h1 toc-link" data-title="Getting Started ">Getting Started <br></a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#controlling-a-device" class="toc-h2 toc-link" data-title="Controlling a Device">Controlling a Device</a>
                  </li>
                  <li>
                    <a href="#creating-a-device" class="toc-h2 toc-link" data-title="Creating a Device">Creating a Device</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#reference" class="toc-h1 toc-link" data-title="Reference">Reference</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#onoff" class="toc-h2 toc-link" data-title="OnOff">OnOff</a>
                  </li>
                  <li>
                    <a href="#brightness" class="toc-h2 toc-link" data-title="Brightness">Brightness</a>
                  </li>
                  <li>
                    <a href="#colorsettingtemperature" class="toc-h2 toc-link" data-title="ColorSettingTemperature">ColorSettingTemperature</a>
                  </li>
                  <li>
                    <a href="#colorsettingrgb" class="toc-h2 toc-link" data-title="ColorSettingRgb">ColorSettingRgb</a>
                  </li>
                  <li>
                    <a href="#colorrgb" class="toc-h2 toc-link" data-title="ColorRgb">ColorRgb</a>
                  </li>
                  <li>
                    <a href="#colorsettinghsv" class="toc-h2 toc-link" data-title="ColorSettingHsv">ColorSettingHsv</a>
                  </li>
                  <li>
                    <a href="#colorhsv" class="toc-h2 toc-link" data-title="ColorHsv">ColorHsv</a>
                  </li>
                  <li>
                    <a href="#binarysensor" class="toc-h2 toc-link" data-title="BinarySensor">BinarySensor</a>
                  </li>
                  <li>
                    <a href="#entrysensor" class="toc-h2 toc-link" data-title="EntrySensor">EntrySensor</a>
                  </li>
                  <li>
                    <a href="#entryhandlesensor" class="toc-h2 toc-link" data-title="EntryHandleSensor">EntryHandleSensor</a>
                  </li>
                  <li>
                    <a href="#intrusionsensor" class="toc-h2 toc-link" data-title="IntrusionSensor">IntrusionSensor</a>
                  </li>
                  <li>
                    <a href="#floodsensor" class="toc-h2 toc-link" data-title="FloodSensor">FloodSensor</a>
                  </li>
                  <li>
                    <a href="#notifier" class="toc-h2 toc-link" data-title="Notifier">Notifier</a>
                  </li>
                  <li>
                    <a href="#mediaobject" class="toc-h2 toc-link" data-title="MediaObject">MediaObject</a>
                  </li>
                  <li>
                    <a href="#startstop" class="toc-h2 toc-link" data-title="StartStop">StartStop</a>
                  </li>
                  <li>
                    <a href="#dock" class="toc-h2 toc-link" data-title="Dock">Dock</a>
                  </li>
                  <li>
                    <a href="#program" class="toc-h2 toc-link" data-title="Program">Program</a>
                  </li>
                  <li>
                    <a href="#temperaturesetting" class="toc-h2 toc-link" data-title="TemperatureSetting">TemperatureSetting</a>
                  </li>
                  <li>
                    <a href="#thermostatmode" class="toc-h2 toc-link" data-title="ThermostatMode">ThermostatMode</a>
                  </li>
                  <li>
                    <a href="#lock" class="toc-h2 toc-link" data-title="Lock">Lock</a>
                  </li>
                  <li>
                    <a href="#passwordcontrol" class="toc-h2 toc-link" data-title="PasswordControl">PasswordControl</a>
                  </li>
                  <li>
                    <a href="#camerastream" class="toc-h2 toc-link" data-title="CameraStream">CameraStream</a>
                  </li>
                  <li>
                    <a href="#thermometer" class="toc-h2 toc-link" data-title="Thermometer">Thermometer</a>
                  </li>
                  <li>
                    <a href="#temperatureunit" class="toc-h2 toc-link" data-title="TemperatureUnit">TemperatureUnit</a>
                  </li>
                  <li>
                    <a href="#humiditysensor" class="toc-h2 toc-link" data-title="HumiditySensor">HumiditySensor</a>
                  </li>
                  <li>
                    <a href="#ultravioletsensor" class="toc-h2 toc-link" data-title="UltravioletSensor">UltravioletSensor</a>
                  </li>
                  <li>
                    <a href="#luminancesensor" class="toc-h2 toc-link" data-title="LuminanceSensor">LuminanceSensor</a>
                  </li>
                  <li>
                    <a href="#scene" class="toc-h2 toc-link" data-title="Scene">Scene</a>
                  </li>
                  <li>
                    <a href="#entry" class="toc-h2 toc-link" data-title="Entry">Entry</a>
                  </li>
                  <li>
                    <a href="#alarm" class="toc-h2 toc-link" data-title="Alarm">Alarm</a>
                  </li>
                  <li>
                    <a href="#clocktype" class="toc-h2 toc-link" data-title="ClockType">ClockType</a>
                  </li>
                  <li>
                    <a href="#battery" class="toc-h2 toc-link" data-title="Battery">Battery</a>
                  </li>
                  <li>
                    <a href="#refresh" class="toc-h2 toc-link" data-title="Refresh">Refresh</a>
                  </li>
                  <li>
                    <a href="#mediaplayer" class="toc-h2 toc-link" data-title="MediaPlayer">MediaPlayer</a>
                  </li>
                  <li>
                    <a href="#mediaplayeroptions" class="toc-h2 toc-link" data-title="MediaPlayerOptions">MediaPlayerOptions</a>
                  </li>
                  <li>
                    <a href="#facedetector" class="toc-h2 toc-link" data-title="FaceDetector">FaceDetector</a>
                  </li>
                  <li>
                    <a href="#online" class="toc-h2 toc-link" data-title="Online">Online</a>
                  </li>
                  <li>
                    <a href="#eventlistener" class="toc-h2 toc-link" data-title="EventListener">EventListener</a>
                  </li>
                  <li>
                    <a href="#eventlistenerregister" class="toc-h2 toc-link" data-title="EventListenerRegister">EventListenerRegister</a>
                  </li>
                  <li>
                    <a href="#logger" class="toc-h2 toc-link" data-title="Logger">Logger</a>
                  </li>
                  <li>
                    <a href="#mediasource" class="toc-h2 toc-link" data-title="MediaSource">MediaSource</a>
                  </li>
                  <li>
                    <a href="#messagingendpoint" class="toc-h2 toc-link" data-title="MessagingEndpoint">MessagingEndpoint</a>
                  </li>
                  <li>
                    <a href="#settings" class="toc-h2 toc-link" data-title="Settings">Settings</a>
                  </li>
                  <li>
                    <a href="#oauthclient" class="toc-h2 toc-link" data-title="OauthClient">OauthClient</a>
                  </li>
                  <li>
                    <a href="#devicemanager" class="toc-h2 toc-link" data-title="DeviceManager">DeviceManager</a>
                  </li>
                  <li>
                    <a href="#deviceprovider" class="toc-h2 toc-link" data-title="DeviceProvider">DeviceProvider</a>
                  </li>
                  <li>
                    <a href="#httprequesthandler" class="toc-h2 toc-link" data-title="HttpRequestHandler">HttpRequestHandler</a>
                  </li>
                  <li>
                    <a href="#httprequest" class="toc-h2 toc-link" data-title="HttpRequest">HttpRequest</a>
                  </li>
                  <li>
                    <a href="#httpresponse" class="toc-h2 toc-link" data-title="HttpResponse">HttpResponse</a>
                  </li>
                  <li>
                    <a href="#httpresponseoptions" class="toc-h2 toc-link" data-title="HttpResponseOptions">HttpResponseOptions</a>
                  </li>
                  <li>
                    <a href="#eventemitter" class="toc-h2 toc-link" data-title="EventEmitter">EventEmitter</a>
                  </li>
              </ul>
          </li>
      </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='getting-started'>Getting Started <br/></h1><h2 id='controlling-a-device'>Controlling a Device</h2>
<ol>
<li>Create a new Script under Plugins.</li>
<li>Set the type to Library.</li>
<li>Assign an device that supports OnOff to a variable &quot;switch&quot;.</li>
<li>Run the example code using the &quot;Test&quot; button.</li>
</ol>
<pre class="highlight javascript tab-javascript"><code><span class="k">if</span> <span class="p">(</span><span class="k">switch</span><span class="p">.</span><span class="nx">isOn</span><span class="p">())</span> <span class="p">{</span>
    <span class="k">switch</span><span class="p">.</span><span class="nx">turnOff</span><span class="p">();</span>
<span class="p">}</span>
<span class="k">else</span> <span class="p">{</span>
    <span class="k">switch</span><span class="p">.</span><span class="nx">turnOn</span><span class="p">();</span>
<span class="p">}</span>
</code></pre><h2 id='creating-a-device'>Creating a Device</h2><pre class="highlight javascript tab-javascript"><code><span class="kr">import</span> <span class="nx">axios</span> <span class="nx">from</span> <span class="s1">'axios'</span><span class="p">;</span>

<span class="nx">log</span><span class="p">.</span><span class="nx">i</span><span class="p">(</span><span class="s1">'Hello World. This will create a virtual OnOff device.'</span><span class="p">);</span>

<span class="kd">function</span> <span class="nx">Device</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">_isOn</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
<span class="p">}</span>

<span class="nx">Device</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">isOn</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="nx">log</span><span class="p">.</span><span class="nx">i</span><span class="p">(</span><span class="s1">'isOn was called!'</span><span class="p">);</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">_isOn</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">Device</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">turnOff</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="c1">// set a breakpoint here.</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">_isOn</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
    <span class="nx">log</span><span class="p">.</span><span class="nx">i</span><span class="p">(</span><span class="s1">'turnOff was called!'</span><span class="p">);</span>
<span class="p">};</span>

<span class="nx">Device</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">turnOn</span> <span class="o">=</span> <span class="nx">async</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="c1">// set a breakpoint here.</span>
    <span class="nx">log</span><span class="p">.</span><span class="nx">i</span><span class="p">(</span><span class="s1">'turnOn was called!'</span><span class="p">);</span>

    <span class="c1">// turnOn must return immediately, but it can trigger other things... </span>
    <span class="nx">log</span><span class="p">.</span><span class="nx">i</span><span class="p">(</span><span class="s1">'XMLHttpRequest is polyfilled by the Android host.'</span><span class="p">);</span>
    <span class="nx">log</span><span class="p">.</span><span class="nx">i</span><span class="p">(</span><span class="s1">'This allows the popular http library axios to work.'</span><span class="p">);</span>
    <span class="kr">const</span> <span class="nx">ip</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">axios</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'http://jsonip.com'</span><span class="p">);</span>
    <span class="nx">log</span><span class="p">.</span><span class="nx">i</span><span class="p">(</span><span class="s2">`my ip: </span><span class="p">${</span><span class="nx">ip</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">ip</span><span class="p">}</span><span class="s2">`</span><span class="p">);</span>

    <span class="k">this</span><span class="p">.</span><span class="nx">_isOn</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
<span class="p">};</span>

<span class="kr">export</span> <span class="k">default</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Device</span><span class="p">();</span>
</code></pre>
<p>This sample creates a simple OnOff device that retrieves your IP when the On button is clicked. This virtual device will
be synced to upstream integration providers, such as Google Home or Apple Homekit.</p>

<ol>
<li>Create a new Script under Plugins.</li>
<li>Set the type to Device.</li>
<li>Select/check the OnOff interface.</li>
<li>Save.</li>
<li>Click the Debug button.</li>
<li>Edit .vcode/settings.json and set the value of &quot;scrypted.debugHost&quot;: &quot;THIS.IS.MY.IP&quot;</li>
<li>Launch Scrypted Debugger in VS Code.</li>
</ol>
<h1 id='reference'>Reference</h1><h2 id='onoff'>OnOff</h2>
<pre class="highlight javascript tab-javascript"><code><span class="c1">// Control an OnOff device</span>
<span class="k">if</span> <span class="p">(</span><span class="k">switch</span><span class="p">.</span><span class="nx">isOn</span><span class="p">())</span> <span class="p">{</span>
    <span class="k">switch</span><span class="p">.</span><span class="nx">turnOff</span><span class="p">();</span>
<span class="p">}</span>
<span class="k">else</span> <span class="p">{</span>
    <span class="k">switch</span><span class="p">.</span><span class="nx">turnOn</span><span class="p">();</span>
<span class="p">}</span>
</code></pre>

<p>OnOff is a basic binary switch.</p>
<h3 id='ison'>isOn</h3>
<p>boolean isOn()</p>
<h3 id='turnoff'>turnOff</h3>
<p>void turnOff()</p>
<h3 id='turnon'>turnOn</h3>
<p>void turnOn()</p>
<h2 id='brightness'>Brightness</h2>
<pre class="highlight javascript tab-javascript"><code><span class="c1">// Control a Brightness device</span>
<span class="nx">dimmer</span><span class="p">.</span><span class="nx">setLevel</span><span class="p">(</span><span class="mi">50</span><span class="p">);</span>
</code></pre>

<p>Brightness is a lighting device that can be dimmed/lit between 0 to 100.</p>
<h3 id='getlevel'>getLevel</h3>
<p>int getLevel()</p>
<h3 id='setlevel'>setLevel</h3>
<p>void setLevel(brightness: int)</p>
<h2 id='colorsettingtemperature'>ColorSettingTemperature</h2>
<p>ColorSettingTemperature sets the color temperature of a light in Kelvin.</p>
<h3 id='gettemperature'>getTemperature</h3>
<p>int getTemperature()</p>
<h3 id='gettemperaturemaxk'>getTemperatureMaxK</h3>
<p>int getTemperatureMaxK()</p>
<h3 id='gettemperaturemink'>getTemperatureMinK</h3>
<p>int getTemperatureMinK()</p>
<h3 id='settemperature'>setTemperature</h3>
<p>void setTemperature(kelvin: int)</p>
<h2 id='colorsettingrgb'>ColorSettingRgb</h2>
<pre class="highlight javascript tab-javascript"><code><span class="c1">// set the color to red on a ColorSettingRgb device</span>
<span class="nx">colorBulb</span><span class="p">.</span><span class="nx">setRgb</span><span class="p">({</span>
    <span class="na">r</span><span class="p">:</span> <span class="mi">255</span><span class="p">,</span>
    <span class="na">g</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="na">b</span><span class="p">:</span> <span class="mi">0</span>
<span class="p">})</span>
</code></pre>

<p>ColorSettingRgb sets the color of a colored light using the RGB representation.</p>
<h3 id='getrgb'>getRgb</h3>
<p><a href='#colorrgb'>ColorRgb</a> getRgb()</p>
<h3 id='setrgb'>setRgb</h3>
<p>void setRgb(r: int, g: int, b: int)</p>
<h2 id='colorrgb'>ColorRgb</h2>
<p>Represents an RGB color value component values between 0 and 255.</p>
<h3 id='properties'>Properties</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>b</td>
<td>int</td>
</tr>
<tr>
<td>g</td>
<td>int</td>
</tr>
<tr>
<td>r</td>
<td>int</td>
</tr>
</tbody></table>
<h2 id='colorsettinghsv'>ColorSettingHsv</h2>
<pre class="highlight javascript tab-javascript"><code><span class="c1">// set the color to red on a ColorSettingHsv device</span>
<span class="nx">colorBulb</span><span class="p">.</span><span class="nx">setHsv</span><span class="p">({</span>
    <span class="na">h</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="na">s</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="na">v</span><span class="p">:</span> <span class="mi">1</span>
<span class="p">})</span>
</code></pre>

<p>ColorSettingHsv sets the color of a colored light using the HSV representation.</p>
<h3 id='gethsv'>getHsv</h3>
<p><a href='#colorhsv'>ColorHsv</a> getHsv()</p>
<h3 id='sethsv'>setHsv</h3>
<p>void setHsv(hue: double, saturation: double, value: double)</p>
<h2 id='colorhsv'>ColorHsv</h2>
<p>Represents an HSV color value component values between 0 and 1.</p>
<h3 id='properties-2'>Properties</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>h</td>
<td>double</td>
</tr>
<tr>
<td>s</td>
<td>double</td>
</tr>
<tr>
<td>v</td>
<td>double</td>
</tr>
</tbody></table>
<h2 id='binarysensor'>BinarySensor</h2><h3 id='getbinarystate'>getBinaryState</h3>
<p>boolean getBinaryState()</p>
<h2 id='entrysensor'>EntrySensor</h2><h3 id='isentryopen'>isEntryOpen</h3>
<p>boolean isEntryOpen()</p>
<h2 id='entryhandlesensor'>EntryHandleSensor</h2><h3 id='isdooropen'>isDoorOpen</h3>
<p>boolean isDoorOpen()</p>
<h2 id='intrusionsensor'>IntrusionSensor</h2><h3 id='isintrusiondetected'>isIntrusionDetected</h3>
<p>boolean isIntrusionDetected()</p>
<h2 id='floodsensor'>FloodSensor</h2><h3 id='isflooded'>isFlooded</h3>
<p>boolean isFlooded()</p>
<h2 id='notifier'>Notifier</h2>
<pre class="highlight javascript tab-javascript"><code><span class="c1">// SMS with only text</span>
<span class="nx">twilioNumber</span><span class="p">.</span><span class="nx">sendNotification</span><span class="p">(</span><span class="s1">'Alert!'</span><span class="p">,</span> <span class="s1">'Something Happened!'</span><span class="p">);</span>

<span class="c1">// MMS with image</span>
<span class="nx">twilioNumber</span><span class="p">.</span><span class="nx">sendNotification</span><span class="p">(</span><span class="s1">'Alert!'</span><span class="p">,</span> <span class="s1">'Something Happened!'</span><span class="p">,</span> <span class="s1">'http://example.org/image.png'</span><span class="p">,</span> <span class="s1">'image/png'</span><span class="p">);</span>

<span class="c1">// text to speech on speakers</span>
<span class="nx">googleHomeSpeaker</span><span class="p">.</span><span class="nx">sendNotification</span><span class="p">(</span><span class="s1">'Title is not not transcribed'</span><span class="p">,</span> <span class="s1">'Something Happened!'</span><span class="p">);</span>

<span class="c1">// cast to chromecast</span>
<span class="nx">twilioNumber</span><span class="p">.</span><span class="nx">sendNotification</span><span class="p">(</span><span class="s1">'Alert!'</span><span class="p">,</span> <span class="s1">'Something Happened!'</span><span class="p">,</span> <span class="s1">'http://example.org/video.mp4'</span><span class="p">,</span> <span class="s1">'video'</span><span class="p">);</span>
</code></pre>

<p>Notifier can be any endpoint that can receive messages, such as speakers, phone numbers, messaging clients, etc. The messages may optionally contain media.</p>
<h3 id='sendnotification'>sendNotification</h3>
<p>void sendNotification(title: String, body: String)</p>
<h3 id='sendnotification-2'>sendNotification</h3>
<p>void sendNotification(title: String, body: String, media: <a href='#mediaobject'>MediaObject</a>, mimeType: String)</p>

<p>If a the media parameter is supplied, the mime type denotes how to send the media within notification. For example, specify &#39;image/*&#39; to send a video MediaObject as an image.
Passing null uses the native type of the MediaObject. If that is not supported by the notifier, the media will be converted to a compatible type.</p>
<h2 id='mediaobject'>MediaObject</h2>
<p>MediaObject is an intermediate object within Scrypted to represent all media objects. Plugins should use the MediaConverter to convert the Scrypted MediaObject into a desired type, whether it is a externally accessible URL, a Buffer, etc.</p>
<h2 id='startstop'>StartStop</h2>
<p>StartStop represents a device that can be started, stopped, and possibly paused and resumed. Typically vacuum cleaners or washers.</p>
<h3 id='ispausable'>isPausable</h3>
<p>boolean isPausable()</p>
<h3 id='ispaused'>isPaused</h3>
<p>boolean isPaused()</p>
<h3 id='isrunning'>isRunning</h3>
<p>boolean isRunning()</p>
<h3 id='pause'>pause</h3>
<p>void pause()</p>
<h3 id='resume'>resume</h3>
<p>void resume()</p>
<h3 id='start'>start</h3>
<p>void start()</p>
<h3 id='stop'>stop</h3>
<p>void stop()</p>
<h2 id='dock'>Dock</h2>
<p>Dock instructs devices that have a base station or charger, to return to their home.</p>
<h3 id='dock-2'>dock</h3>
<p>void dock()</p>
<h3 id='isdocked'>isDocked</h3>
<p>boolean isDocked()</p>
<h2 id='program'>Program</h2><h3 id='run'>run</h3>
<p>Object run(args: Object[])</p>

<p>Synchronously run a script given the provided arguments.</p>
<h3 id='runasync'>runAsync</h3>
<p>Object runAsync(args: Object[])</p>

<p>Asynchronously run a script given the provided arguments.</p>
<h2 id='temperaturesetting'>TemperatureSetting</h2>
<p>TemperatureSetting represents a thermostat device.</p>
<h3 id='getavailablethermostatmodes'>getAvailableThermostatModes</h3>
<p>ThermostatMode[] getAvailableThermostatModes()</p>
<h3 id='gettemperaturesetpoint'>getTemperatureSetpoint</h3>
<p>double getTemperatureSetpoint()</p>
<h3 id='gettemperaturesetpointhigh'>getTemperatureSetpointHigh</h3>
<p>double getTemperatureSetpointHigh()</p>
<h3 id='gettemperaturesetpointlow'>getTemperatureSetpointLow</h3>
<p>double getTemperatureSetpointLow()</p>
<h3 id='getthermostatmode'>getThermostatMode</h3>
<p><a href='#thermostatmode'>ThermostatMode</a> getThermostatMode()</p>
<h3 id='settemperaturesetrange'>setTemperatureSetRange</h3>
<p>void setTemperatureSetRange(low: double, high: double)</p>
<h3 id='settemperaturesetpoint'>setTemperatureSetpoint</h3>
<p>void setTemperatureSetpoint(degrees: double)</p>
<h3 id='setthermostatmode'>setThermostatMode</h3>
<p>void setThermostatMode(mode: <a href='#thermostatmode'>ThermostatMode</a>)</p>
<h2 id='thermostatmode'>ThermostatMode</h2>
<table><thead>
<tr>
<th>Enum</th>
</tr>
</thead><tbody>
<tr>
<td>Off</td>
</tr>
<tr>
<td>Cool</td>
</tr>
<tr>
<td>Heat</td>
</tr>
<tr>
<td>HeatCool</td>
</tr>
<tr>
<td>Auto</td>
</tr>
<tr>
<td>FanOnly</td>
</tr>
<tr>
<td>Purifier</td>
</tr>
<tr>
<td>Eco</td>
</tr>
<tr>
<td>Dry</td>
</tr>
<tr>
<td>On</td>
</tr>
</tbody></table>
<h2 id='lock'>Lock</h2>
<p>Lock controls devices that can lock or unlock entries. Often works in tandem with PasswordControl.</p>
<h3 id='islocked'>isLocked</h3>
<p>boolean isLocked()</p>
<h3 id='lock-2'>lock</h3>
<p>void lock()</p>
<h3 id='unlock'>unlock</h3>
<p>void unlock()</p>
<h2 id='passwordcontrol'>PasswordControl</h2>
<p>PasswordControl represents devices that authorize users via a passcode or pin code.</p>
<h3 id='addpassword'>addPassword</h3>
<p>void addPassword(password: String)</p>
<h3 id='getpasswords'>getPasswords</h3>
<p>Set getPasswords()</p>
<h3 id='removepassword'>removePassword</h3>
<p>void removePassword(password: String)</p>
<h2 id='camerastream'>CameraStream</h2><h3 id='createvideocapturer'>createVideoCapturer</h3>
<p>Future createVideoCapturer()</p>
<h2 id='thermometer'>Thermometer</h2><h3 id='gettemperatureambient'>getTemperatureAmbient</h3>
<p>double getTemperatureAmbient()</p>

<p>Get the ambient temperature in Celsius.</p>
<h3 id='gettemperatureunit'>getTemperatureUnit</h3>
<p><a href='#temperatureunit'>TemperatureUnit</a> getTemperatureUnit()</p>

<p>Get the user facing unit of measurement for this thermometer. This may be Fahrenheit, but getTemperatureAmbient will return results in Celsius.</p>
<h2 id='temperatureunit'>TemperatureUnit</h2>
<table><thead>
<tr>
<th>Enum</th>
</tr>
</thead><tbody>
<tr>
<td>C</td>
</tr>
<tr>
<td>F</td>
</tr>
</tbody></table>
<h2 id='humiditysensor'>HumiditySensor</h2><h3 id='gethumidityambient'>getHumidityAmbient</h3>
<p>double getHumidityAmbient()</p>
<h2 id='ultravioletsensor'>UltravioletSensor</h2><h3 id='getultraviolet'>getUltraviolet</h3>
<p>double getUltraviolet()</p>
<h2 id='luminancesensor'>LuminanceSensor</h2><h3 id='getluminance'>getLuminance</h3>
<p>double getLuminance()</p>
<h2 id='scene'>Scene</h2>
<p>Scenes control multiple different devices into a given state.</p>
<h3 id='activate'>activate</h3>
<p>void activate()</p>
<h3 id='deactivate'>deactivate</h3>
<p>void deactivate()</p>
<h3 id='isreversible'>isReversible</h3>
<p>boolean isReversible()</p>

<p>If a scene can be reversed, isReversible should return true. Otherwise deactivate will not be called.</p>
<h2 id='entry'>Entry</h2>
<p>Entry represents devices that can open and close barriers, such as garage doors.</p>
<h3 id='closeentry'>closeEntry</h3>
<p>void closeEntry()</p>
<h3 id='isentryopen-2'>isEntryOpen</h3>
<p>boolean isEntryOpen()</p>
<h3 id='openentry'>openEntry</h3>
<p>void openEntry()</p>
<h2 id='alarm'>Alarm</h2>
<p>Event data from the Scheduler component.</p>
<h3 id='getclocktype'>getClockType</h3>
<p><a href='#clocktype'>ClockType</a> getClockType()</p>
<h3 id='gethour'>getHour</h3>
<p>int getHour()</p>
<h3 id='getminute'>getMinute</h3>
<p>int getMinute()</p>
<h3 id='isenabled'>isEnabled</h3>
<p>boolean isEnabled(day: int)</p>
<h2 id='clocktype'>ClockType</h2>
<table><thead>
<tr>
<th>Enum</th>
</tr>
</thead><tbody>
<tr>
<td>_AM</td>
</tr>
<tr>
<td>_PM</td>
</tr>
<tr>
<td>_24HourClock</td>
</tr>
<tr>
<td>_BeforeSunrise</td>
</tr>
<tr>
<td>_AfterSunrise</td>
</tr>
<tr>
<td>_BeforeSunset</td>
</tr>
<tr>
<td>_AfterSunset</td>
</tr>
</tbody></table>
<h2 id='battery'>Battery</h2>
<p>Battery retrieves the battery level of battery powered devices.</p>
<h3 id='getbatterylevel'>getBatteryLevel</h3>
<p>int getBatteryLevel()</p>
<h2 id='refresh'>Refresh</h2>
<p>Refresh indicates that this device has properties that are not automatically updated, and must be periodically refreshed.</p>
<h3 id='getrefreshfrequency'>getRefreshFrequency</h3>
<p>int getRefreshFrequency()</p>

<p>Get the recommended refresh/poll frequency in seconds for this device.</p>
<h3 id='refresh-2'>refresh</h3>
<p>void refresh(refreshInterface: Class, userInitiated: boolean)</p>

<p>This method is called by Scrypted when the properties of the device need to be refreshed. When the device has completed the refresh, the appropriate events should be emitted. The parameters provide the specific interface that needs to be refreshed and whether it was user initiated (via UI or voice).</p>
<h2 id='mediaplayer'>MediaPlayer</h2>
<p>MediaPlayer allows media playback on screen or speaker devices, such as Chromecasts or TVs.</p>
<h3 id='load'>load</h3>
<p>void load(media: <a href='#mediaobject'>MediaObject</a>, options: <a href='#mediaplayeroptions'>MediaPlayerOptions</a>)</p>
<h3 id='load-2'>load</h3>
<p>void load(mediaUrl: String, options: <a href='#mediaplayeroptions'>MediaPlayerOptions</a>)</p>
<h3 id='pause-2'>pause</h3>
<p>void pause()</p>
<h3 id='play'>play</h3>
<p>void play()</p>
<h3 id='stop-2'>stop</h3>
<p>void stop()</p>
<h2 id='mediaplayeroptions'>MediaPlayerOptions</h2><h3 id='properties-3'>Properties</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>autoplay</td>
<td>boolean</td>
</tr>
<tr>
<td>mimeType</td>
<td>String</td>
</tr>
</tbody></table>
<h2 id='facedetector'>FaceDetector</h2><h2 id='online'>Online</h2>
<p>Online denotes whether the device is online or unresponsive. It may be unresponsive due to being unplugged, network error, etc.</p>
<h3 id='isonline'>isOnline</h3>
<p>boolean isOnline()</p>
<h2 id='eventlistener'>EventListener</h2><h3 id='onevent'>onEvent</h3>
<p>void onEvent(eventSource: ScryptedInterface, eventInterface: Class, eventData: Object)</p>

<p>This device type can be registered to listen for events. The event source, event type (interface), and event data are all passed to the listener as arguments.</p>
<h2 id='eventlistenerregister'>EventListenerRegister</h2><h2 id='logger'>Logger</h2>
<p>Logger is exposed via log.* to allow writing to the Scrypted log.</p>
<h3 id='a'>a</h3>
<p>void a(msg: String)</p>

<p>Alert. Alert level logs will be displayed as a notification in the management console.</p>
<h3 id='clear'>clear</h3>
<p>void clear()</p>

<p>Clear the log</p>
<h3 id='clearalert'>clearAlert</h3>
<p>void clearAlert(msg: String)</p>

<p>Clear a specific alert</p>
<h3 id='clearalerts'>clearAlerts</h3>
<p>void clearAlerts()</p>

<p>Clear all alerts</p>
<h3 id='d'>d</h3>
<p>void d(msg: String)</p>

<p>Debug</p>
<h3 id='e'>e</h3>
<p>void e(msg: String)</p>

<p>Error</p>
<h3 id='i'>i</h3>
<p>void i(msg: String)</p>

<p>Info</p>
<h3 id='v'>v</h3>
<p>void v(msg: String)</p>

<p>Verbose</p>
<h3 id='w'>w</h3>
<p>void w(msg: String)</p>

<p>Warn</p>
<h2 id='mediasource'>MediaSource</h2><h3 id='getmedia'>getMedia</h3>
<p><a href='#mediaobject'>MediaObject</a> getMedia()</p>

<p>Get a MediaObject that will be automatically converted for playback on other devices.</p>
<h2 id='messagingendpoint'>MessagingEndpoint</h2><h2 id='settings'>Settings</h2>
<p>Settings viewing and editing of device configurations that describe or modify behavior.</p>
<h3 id='getboolean'>getBoolean</h3>
<p>Boolean getBoolean(key: String)</p>
<h3 id='getboolean-2'>getBoolean</h3>
<p>Boolean getBoolean(key: String, defaultValue: Boolean)</p>
<h3 id='getconfigurationvaluelist'>getConfigurationValueList</h3>
<p>List getConfigurationValueList(key: String)</p>
<h3 id='getdouble'>getDouble</h3>
<p>Double getDouble(key: String)</p>
<h3 id='getfloat'>getFloat</h3>
<p>Float getFloat(key: String)</p>
<h3 id='getint'>getInt</h3>
<p>Integer getInt(key: String)</p>
<h3 id='getkeydescription'>getKeyDescription</h3>
<p>String getKeyDescription(key: String)</p>
<h3 id='getkeys'>getKeys</h3>
<p>List getKeys()</p>
<h3 id='getstring'>getString</h3>
<p>String getString(key: String)</p>
<h3 id='putboolean'>putBoolean</h3>
<p>void putBoolean(key: String, value: boolean)</p>
<h3 id='putdouble'>putDouble</h3>
<p>void putDouble(key: String, value: double)</p>
<h3 id='putfloat'>putFloat</h3>
<p>void putFloat(key: String, value: float)</p>
<h3 id='putint'>putInt</h3>
<p>void putInt(key: String, value: int)</p>
<h3 id='putstring'>putString</h3>
<p>void putString(key: String, value: String)</p>
<h2 id='oauthclient'>OauthClient</h2>
<p>The OauthClient can be implemented to perform the browser based Oauth process from within a plugin.</p>
<h3 id='getoauthurl'>getOauthUrl</h3>
<p>String getOauthUrl()</p>

<p>Get the Oauth URL to navigate to in the browser. The redirect_uri parameter is not needed and will be automatically set by Scrypted.</p>
<h3 id='onoauthcallback'>onOauthCallback</h3>
<p>void onOauthCallback(callbackUrl: String)</p>

<p>When an oauth request by a plugin completes, the callback url, with the code/token, will be passed to this method.</p>
<h2 id='devicemanager'>DeviceManager</h2><h3 id='getdevicebyid'>getDeviceById</h3>
<p>ScryptedInterface getDeviceById(id: long)</p>
<h3 id='getdevicebyname'>getDeviceByName</h3>
<p>ScryptedInterface getDeviceByName(name: String)</p>
<h3 id='ondevicediscovered'>onDeviceDiscovered</h3>
<p>void onDeviceDiscovered(device: JavaScriptObject)</p>
<h3 id='ondeviceevent'>onDeviceEvent</h3>
<p>void onDeviceEvent(eventInterface: Class, eventData: Object)</p>
<h3 id='ondeviceevent-2'>onDeviceEvent</h3>
<p>void onDeviceEvent(id: String, eventInterface: Class, eventData: Object)</p>
<h3 id='ondeviceschanged'>onDevicesChanged</h3>
<p>void onDevicesChanged(devices: JavaScriptObject)</p>
<h2 id='deviceprovider'>DeviceProvider</h2>
<p>DeviceProvider acts as a controller/hub and exposes multiple devices to Scrypted Device Manager.</p>
<h3 id='discoverdevices'>discoverDevices</h3>
<p>void discoverDevices(duration: long)</p>

<p>Initiate device discovery for the specified duration.</p>
<h3 id='getdevice'>getDevice</h3>
<p>Object getDevice(id: String)</p>

<p>Get an instance of a previously discovered device that was reported to the device manager.</p>
<h2 id='httprequesthandler'>HttpRequestHandler</h2>
<p>The HttpRequestHandler allows handling of web requests under the endpoint path: /endpoint/<endpoint>/*.</p>
<h3 id='getendpoint'>getEndpoint</h3>
<p>String getEndpoint()</p>

<p>Get the preferred endpoint of this HttpRequestHandler. Local/development scripts can set this to any value. This is ignored if the plugin is installed via npm: the endpoint will always be the npm package name.</p>
<h3 id='onrequest'>onRequest</h3>
<p>void onRequest(request: <a href='#httprequest'>HttpRequest</a>, response: <a href='#httpresponse'>HttpResponse</a>)</p>

<p>Callback to handle an incoming request.</p>
<h2 id='httprequest'>HttpRequest</h2><h3 id='properties-4'>Properties</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>body</td>
<td>String</td>
</tr>
<tr>
<td>headers</td>
<td>Map</td>
</tr>
<tr>
<td>method</td>
<td>String</td>
</tr>
<tr>
<td>rootPath</td>
<td>String</td>
</tr>
<tr>
<td>url</td>
<td>String</td>
</tr>
</tbody></table>
<h2 id='httpresponse'>HttpResponse</h2>
<p>Response object provided by the HttpRequestHandler.</p>
<h3 id='send'>send</h3>
<p>void send(options: <a href='#httpresponseoptions'>HttpResponseOptions</a>, body: String)</p>
<h3 id='send-2'>send</h3>
<p>void send(options: <a href='#httpresponseoptions'>HttpResponseOptions</a>, body: ByteBuffer)</p>
<h3 id='send-3'>send</h3>
<p>void send(body: String)</p>
<h3 id='send-4'>send</h3>
<p>void send(body: ByteBuffer)</p>
<h2 id='httpresponseoptions'>HttpResponseOptions</h2><h3 id='properties-5'>Properties</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>asContent</td>
<td>boolean</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
</tr>
<tr>
<td>headers</td>
<td>Map</td>
</tr>
</tbody></table>
<h2 id='eventemitter'>EventEmitter</h2><h3 id='on'>on</h3>
<p><a href='#eventlistenerregister'>EventListenerRegister</a> on(event: String, callback: JavaScriptObject)</p>

<p>Subscribe to events from a specific interface on a device, such as &#39;OnOff&#39; or &#39;Brightness&#39;.
The callback function has the signature function(eventSource, eventData).
The eventSource is the interface from where the event originated, and eventData will contain data specific
to that type of interface. OnOff would be boolean, while Brightness would be an integer between 0 and 100.</p>
<h3 id='watch'>watch</h3>
<p><a href='#eventlistenerregister'>EventListenerRegister</a> watch(event: String, callback: JavaScriptObject)</p>

<p>Similar to &#39;on&#39;, but will passively watch for events, and not initiate polling.</p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="javascript">javascript</a>
                <a href="#" data-language-name="typescript">typescript</a>
          </div>
      </div>
    </div>
  </body>
</html>
